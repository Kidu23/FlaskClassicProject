from config import APIKEY
from CryptoApp.modelsV2Kidu import *

#checking for all coins
all_coins = AllCoinsApiIO()
all_coins.getAllCoins(APIKEY)





print("Number of all coins: ",len(all_coins.total_coins))
print("Number of crypto coins: ",len(all_coins.crypto_coins))
print("Real coins: ",len(all_coins.real_coins))



###################################


coin_from = input("insert a coin to exchange from:").upper()#makes the input to be always uppercase


while coin_from != "" or not coin_from.isalpha():
    if coin_from in all_coins.total_coins:
        
        coin_to = input("insert a coin to exchange to:").upper()

        while coin_to != "" or not coin_to.isalpha():
          if coin_to in all_coins.total_coins:
                exchange = Exchange(coin_from, coin_to)
                try:
                    exchange.updateExchange(APIKEY)
                    print("rate: {:.2f}â‚¬".format(exchange.rate))
                    break
                except ModelError as error:
                    print(error)
          coin_to = input("insert a coin to exchange to: ")
       
    coin_from = input("insert a coin to exchange from: ").upper()



